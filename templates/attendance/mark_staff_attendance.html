{% extends "base.html" %}

{% block content %}
<h2>Mark Staff Attendance - {{ today }}</h2>

{% if error %}
<p style="color: red;">{{ error }}</p>
{% endif %}

<form method="post">
    {% csrf_token %}
    <table border="1" cellpadding="6" cellspacing="0">
        <tr>
            <th>Staff</th>
            <th>Type</th>
            <th>Status</th>
        </tr>
        {% for staff in staff_members %}
        <tr>
            <td>{{ staff.first_name }} {{ staff.last_name }}</td>
            <td>{{ staff.staff_type|title }}</td>
            <td>
                <label><input type="radio" name="status_{{ staff.id }}" value="present" required> Present</label>
                <label><input type="radio" name="status_{{ staff.id }}" value="absent"> Absent</label>
                <label><input type="radio" name="status_{{ staff.id }}" value="late"> Late</label>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No active staff members found.</td>
        </tr>
        {% endfor %}
    </table>
    <br>
    <button type="submit">Save Staff Attendance</button>
</form>
{% endblock %}
