{% extends "base.html" %}
{% block content %}

<h2>Homework</h2>

<div class="card">
    <table border="1" cellpadding="8" cellspacing="0">
        <tr>
            <th>Due Date</th>
            <th>Title</th>
            <th>Subject</th>
            <th>Class</th>
            <th>Section</th>
            <th>Linked Student(s)</th>
        </tr>
        {% for row in rows %}
        <tr>
            <td>{{ row.homework.due_date }}</td>
            <td>
                <strong>{{ row.homework.title }}</strong><br>
                {{ row.homework.description|default:'-' }}
            </td>
            <td>{{ row.homework.subject.name }}</td>
            <td>{{ row.homework.school_class.name }}</td>
            <td>{{ row.homework.section.name }}</td>
            <td>
                {% for student in row.students %}
                    {{ student.first_name }} {{ student.last_name }}{% if not forloop.last %}, {% endif %}
                {% empty %}
                    -
                {% endfor %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No homework available for linked students.</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}
